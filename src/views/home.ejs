<!-- views/home.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ishwar Kripa Vidya Mandir â€” Student Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  />
  <style>
    :root{
      --brand:#0a4ea3;
      --brand-dark:#083b7a;
      --brand-accent:#29b6f6;
      --bg:#f4f6fb;
      --card:#ffffff;
      --text:#242d3b;
      --muted:#6b7280;
      --ring:rgba(10,78,163,.15);
      --shadow:0 10px 25px rgba(16,24,40,.1);
      --radius:16px;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0; font-family: "Segoe UI", Roboto, Arial, sans-serif; color:var(--text);
      background:linear-gradient(180deg,#eef4ff, #f7fbff 40%, #eef6ff);
    }

    /* ===== Shell ===== */
    .shell{display:grid; grid-template-columns: 280px 1fr; min-height:100dvh}
    @media (max-width: 980px){ .shell{grid-template-columns: 1fr} }

    /* ===== Sidebar ===== */
    .sidebar{
      position:sticky; top:0; height:100dvh; padding:24px; background: #fff;
      box-shadow: var(--shadow); border-right:1px solid #edf0f6; z-index:10;
    }
    @media (max-width:980px){ .sidebar{position:static; height:auto; border-right:0; border-bottom:1px solid #edf0f6} }
    .brand{
      display:flex; align-items:center; gap:12px; font-weight:700; letter-spacing:.2px;
      color:var(--brand);
    }
    .brand .logo{
      width:44px; height:44px; border-radius:12px; display:grid; place-items:center;
      color:#fff; background:linear-gradient(135deg,var(--brand),var(--brand-accent));
      box-shadow: 0 8px 20px var(--ring);
    }
    .nav{margin-top:28px; display:grid; gap:8px}
    .nav a{
      display:flex; align-items:center; gap:12px; text-decoration:none; color:var(--text);
      padding:12px 14px; border-radius:12px; transition:.2s;
    }
    .nav a i{width:20px; text-align:center; color:var(--brand)}
    .nav a:hover{background:#f2f7ff; transform:translateX(2px)}
    .nav a.active{background:linear-gradient(135deg,#e9f2ff,#f2f8ff); box-shadow: inset 0 0 0 1px #e3eeff}
    .sidebar .foot{
      margin-top:auto; padding-top:18px; border-top:1px dashed #e7ecf7; color:var(--muted); font-size:12px;
    }

    /* ===== Main ===== */
    .main{padding:28px 28px 40px}
    .topbar{
      background:linear-gradient(135deg, #0a4ea3 0%, #1b78d6 60%, #29b6f6 100%);
      color:#fff; border-radius:20px; padding:18px 22px; display:flex; align-items:center; justify-content:space-between;
      box-shadow: var(--shadow);
    }
    .topbar .who{display:flex; align-items:center; gap:12px}
    .avatar{
      width:42px; height:42px; border-radius:50%; background:#ffffff22; display:grid; place-items:center;
      border:2px solid #ffffff55;
    }
    .who small{opacity:.9}

    /* ===== Grids ===== */
    .grid{display:grid; gap:20px}
    .grid-12{grid-template-columns: repeat(12, 1fr)}
    @media (max-width: 1200px){ .grid-12{grid-template-columns: 1fr} }

    /* ===== Cards ===== */
    .card{
      background:var(--card); border-radius:var(--radius); box-shadow: var(--shadow);
      padding:18px; border:1px solid #eef1f6;
    }
    .card h3{margin:0 0 10px 0; font-size:18px}
    .sub{color:var(--muted); font-size:13px}

    /* KPI */
    .kpi{
      display:flex; align-items:center; justify-content:space-between; padding:16px; border-radius:14px;
      background:linear-gradient(180deg,#ffffff, #f7fbff);
      border:1px solid #eaf1ff;
    }
    .kpi .value{font-size:28px; font-weight:800; color:var(--brand-dark)}
    .kpi i{font-size:28px; color:var(--brand)}

    /* Progress bars */
    .prog{display:grid; gap:10px}
    .rowp{display:grid; gap:8px}
    .rowp label{font-size:13px; color:var(--text)}
    .bar{height:10px; border-radius:999px; background:#eef2f8; overflow:hidden; box-shadow: inset 0 1px 2px rgba(0,0,0,.05)}
    .bar > span{display:block; height:100%; background:linear-gradient(90deg, var(--brand), var(--brand-accent));}

    /* Timetable */
    table{width:100%; border-collapse: collapse; overflow:hidden; border-radius:12px}
    th, td{padding:12px 14px; border-bottom:1px solid #edf0f6; font-size:14px}
    th{background:#f6f9ff; text-align:left; color:#0a2b55}
    tr:hover td{background:#fafcff}

    /* Quick tiles */
    .tiles{display:grid; grid-template-columns: repeat(4, 1fr); gap:16px}
    @media (max-width: 820px){ .tiles{grid-template-columns: repeat(2, 1fr)} }
    .tile{
      padding:16px; border-radius:14px; background:#fff; border:1px solid #eef1f6; box-shadow: var(--shadow);
      display:flex; align-items:center; justify-content:space-between; transition:.2s;
    }
    .tile:hover{transform:translateY(-3px)}
    .tile i{font-size:24px; color:var(--brand)}
    .tile a{display:inline-flex; gap:8px; align-items:center; text-decoration:none; color:var(--brand-dark); font-weight:600}

    /* Notice board */
    .notice{display:grid; gap:12px}
    .note{
      padding:12px 14px; border:1px solid #e8eef9; border-radius:12px; background:#fbfdff;
      display:flex; gap:10px; align-items:flex-start;
    }
    .note i{color:#ef8f00; margin-top:2px}

    /* Footer */
    .copyright{
      margin-top:24px; font-size:12px; color:var(--muted); text-align:center;
    }

    /* Small helpers */
    .btn{
      display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:10px; cursor:pointer;
      background:var(--brand); color:#fff; border:none; text-decoration:none; transition:.2s;
      box-shadow: 0 8px 18px var(--ring);
    }
    .btn:hover{background:var(--brand-dark)}
    .pill{
      display:inline-block; padding:6px 10px; border-radius:999px; background:#eef5ff; color:var(--brand-dark); font-size:12px; border:1px solid #e1ecff;
    }
  </style>
</head>
<body>
  <div class="shell">

    <!-- ========== SIDEBAR ========== -->
    <aside class="sidebar">
      <div class="brand">
        <div class="logo"><i class="fa-solid fa-school"></i></div>
        <div>Ishwar Kripa<br/>Vidya Mandir</div>
      </div>

      <nav class="nav">
        <a class="active" href="#"><i class="fa-solid fa-house"></i>Dashboard</a>
        <a href="#"><i class="fa-solid fa-user-graduate"></i>My Profile</a>
        <a href="#"><i class="fa-solid fa-book"></i>Subjects</a>
        <a href="#"><i class="fa-solid fa-clipboard-check"></i>Attendance</a>
        <a href="#"><i class="fa-solid fa-calendar-days"></i>Time Table</a>
        <a href="#"><i class="fa-solid fa-bullhorn"></i>Notices</a>
        <a href="#"><i class="fa-solid fa-right-from-bracket"></i>Logout</a>
      </nav>

      <div class="foot">
        <div class="pill"><i class="fa-regular fa-id-card"></i> Student</div>
        <div style="margin-top:8px"><small><%= user.email %></small></div>
      </div>
    </aside>

    <!-- ========== MAIN ========== -->
    <main class="main">
      <!-- Topbar -->
      <div class="topbar">
        <div>
          <div style="font-weight:700; font-size:18px;">Welcome back, <%= user.username %> ðŸ‘‹</div>
          <small>Have a great learning day!</small>
        </div>
        <div class="who">
          <div class="avatar"><i class="fa-regular fa-user"></i></div>
          <div>
            <div style="font-weight:600"><%= user.username %></div>
            <small><%= user.email %></small>
          </div>
        </div>
      </div>

      <!-- Quick Tiles -->
      <div class="tiles" style="margin-top:18px">
        
        <div class="tile">
          <a href="#"><i class="fa-solid fa-people-group"></i> Class</a>
          <span class="pill"><%= student1.classNo %></span>
        </div>
        <div class="tile">
          <a href="#"><i class="fa-solid fa-wallet"></i> Fees</a>
          <span class="pill">Pending</span>
        </div>

        <!-- <h1><%  %></h1> -->

        <div class="tile">
            <a href="#"><i class="fa-solid fa-people-group"></i>PARENTS</a>
            <span class="pill"><%= student1.parentName %></span>
        </div>
      </div>

      <!-- Grid layout -->
      <section class="grid grid-12" style="margin-top:18px">
        <!-- Left column -->
        <div class="card" style="grid-column: span 5">
          <h3>Attendance Summary</h3>
          <div class="sub">Overview of your classes</div>

          <div class="prog" style="margin-top:12px">
            <div class="rowp">
              <label>Mathematics (92%)</label>
              <div class="bar"><span style="width:92%"></span></div>
            </div>
            <div class="rowp">
              <label>Physics (0%)</label>
              <div class="bar"><span style="width:88%"></span></div>
            </div>
            <div class="rowp">
              <label>Chemistry (81%)</label>
              <div class="bar"><span style="width:81%"></span></div>
            </div>
            <div class="rowp">
              <label>English (95%)</label>
              <div class="bar"><span style="width:95%"></span></div>
            </div>
          </div>
        </div>

        <div class="card" style="grid-column: span 7">
          <h3>Time Table</h3>
          <div class="sub">Todayâ€™s schedule</div>
          <div style="overflow:auto; margin-top:8px">
            <table>
              <thead>
                <tr><th>Time</th><th>Subject</th><th>Teacher</th><th>Room</th></tr>
              </thead>
              <tbody>
                <tr><td>08:00  08:45</td><td>Mathematics</td><td>Mr. Sharma</td><td>201</td></tr>
                <tr><td>08:50  09:35</td><td>Physics</td><td>Ms. Singh</td><td>305</td></tr>
                <tr><td>09:40  10:25</td><td>Chemistry</td><td>Dr. Rao</td><td>212</td></tr>
                <tr><td>10:40  11:25</td><td>English</td><td>Mrs. Gupta</td><td>108</td></tr>
                <tr><td>11:30  12:15</td><td>Computer</td><td>Mr. Verma</td><td>Lab-1</td></tr>
              </tbody>
            </table>
          </div>
          <div style="margin-top:12px">
            <a class="btn" href="#"><i class="fa-solid fa-calendar"></i> View Full Timetable</a>
          </div>
        </div>

        <!-- Right column widgets -->
        <div class="card" style="grid-column: span 4">
          <div class="kpi">
            <div>
              <div class="sub">Overall Attendance</div>
              <div class="value">90.2%</div>
            </div>
            <i class="fa-solid fa-chart-line"></i>
          </div>
          <div style="margin-top:12px" class="notice">
            <div class="note"><i class="fa-solid fa-bell"></i>
              <div><strong>Unit Test</strong><br/><span class="sub">Maths unit test on 25 Aug (Monday)</span></div>
            </div>
            <div class="note"><i class="fa-solid fa-bullhorn"></i>
              <div><strong>PTM</strong><br/><span class="sub">Parentâ€“Teacher Meeting on 30 Aug</span></div>
            </div>
            <div class="note"><i class="fa-solid fa-book-open"></i>
              <div><strong>Library Week</strong><br/><span class="sub">Return pending books by Friday</span></div>
            </div>
          </div>
        </div>

        <div class="card" style="grid-column: span 8">
          <h3>Subjects & Teachers</h3>
          <div class="sub">Quick links to class materials</div>
          <div class="tiles" style="margin-top:10px">
            <div class="tile"><a href="#"><i class="fa-solid fa-square-root-variable"></i> Mathematics</a><span class="pill">Mr. Sharma</span></div>
            <div class="tile"><a href="#"><i class="fa-solid fa-atom"></i> Physics</a><span class="pill">Ms. Singh</span></div>
            <div class="tile"><a href="#"><i class="fa-solid fa-flask"></i> Chemistry</a><span class="pill">Dr. Rao</span></div>
            <div class="tile"><a href="#"><i class="fa-solid fa-language"></i> English</a><span class="pill">Mrs. Gupta</span></div>
          </div>
        </div>
      </section>

      <div class="copyright">
        Â© 2025 Ishwar Kripa Vidya Mandir â€¢ Designed for students
      </div>
    </main>
  </div>
</body>
</html>
